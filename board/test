
dbfs:/mnt/
    vfs/
        raw/                # Raw files and metadata
            files/          # Raw file storage
            metadata/       # Metadata about raw files
        processed/          # Processed data
            files/          # Processed file storage
            metadata/       # Metadata about processed files
        analytics/          # Analytics data
            results/        # Analytics results
            reports/        # Pre-generated reports
        metadata/           # Project-wide metadata
            etl_logs/       # ETL job logs
            pipeline_status/ # Pipeline status


-- Create the database
CREATE DATABASE IF NOT EXISTS vfs_raw
COMMENT 'Database to store metadata and information about raw files in the VFS project'
LOCATION 'dbfs:/mnt/vfs/raw';

-- Create the table
CREATE TABLE IF NOT EXISTS vfs_raw.file_metadata (
    name STRING COMMENT 'Name of the file',
    relative_file_path STRING COMMENT 'Relative path of the file in the repository',
    file_extension STRING COMMENT 'File extension (e.g., .pdf, .pptx)',
    category STRING COMMENT 'Category of the file (e.g., raw, processed)',
    git_last_commit_date TIMESTAMP COMMENT 'Date of the latest Git commit that modified the file',
    git_blob_hash STRING COMMENT 'Git blob hash (unique identifier for the file content in Git)',
    upload_status STRING COMMENT 'Upload status of the file (e.g., Pending, Uploaded)',
    upload_on TIMESTAMP COMMENT 'Timestamp when the file was uploaded to Azure Storage'
)
USING DELTA
COMMENT 'Table to store metadata about raw files in the VFS project'
LOCATION 'dbfs:/mnt/vfs/raw/metadata';
