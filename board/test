
dbfs:/mnt/
    vfs/
        raw/                # Raw files and metadata
            files/          # Raw file storage
            metadata/       # Metadata about raw files
        processed/          # Processed data
            files/          # Processed file storage
            metadata/       # Metadata about processed files
        analytics/          # Analytics data
            results/        # Analytics results
            reports/        # Pre-generated reports
        metadata/           # Project-wide metadata
            etl_logs/       # ETL job logs
            pipeline_status/ # Pipeline status


CREATE DATABASE IF NOT EXISTS vfs_raw
LOCATION 'dbfs:/mnt/vfs/raw';

CREATE TABLE IF NOT EXISTS vfs_raw.files (
    name STRING,
    relative_file_path STRING,
    file_extension STRING,
    size BIGINT,
    upload_on TIMESTAMP
)
USING DELTA
LOCATION 'dbfs:/mnt/vfs/raw/files';

CREATE TABLE IF NOT EXISTS vfs_raw.metadata (
    name STRING,
    relative_file_path STRING,
    file_extension STRING,
    category STRING,
    git_last_commit_date TIMESTAMP,
    git_blob_hash STRING,
    upload_status STRING,
    upload_on TIMESTAMP
)
USING DELTA
LOCATION 'dbfs:/mnt/vfs/raw/metadata';

